<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>When Compassion Costs You Sleep - FLC Publishing House</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="FLC Publishing House – curated sermon notes and resources from Freedom Life Church."
  />

  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            flcNavy: "#1A3A52",
            flcGold: "#9A7B4F",
            flcCharcoal: "#2C2C2C",
            flcCream: "#F5F1E8",
            flcOffWhite: "#FAFAF8",
            flcBorder: "#E8E6E1",
            // Sophisticated muted additions
            flcNavyLight: "#2A4A62",
            flcNavyDark: "#0F2838",
            flcGoldLight: "#B8956A",
            flcGoldDark: "#7A6240",
            flcAccent: "#8B7965",
          },
          fontFamily: {
            heading: ["'Playfair Display'", "Georgia", "serif"],
            body: ["Inter", "-apple-system", "BlinkMacSystemFont", "system-ui", "sans-serif"],
          },
          letterSpacing: {
            widePlus: "0.18em",
            tighter: "-0.02em",
          },
          animation: {
            'fade-in': 'fadeIn 0.6s ease-out',
            'slide-up': 'slideUp 0.5s ease-out',
            'scale-in': 'scaleIn 0.4s ease-out',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' },
            },
            slideUp: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' },
            },
            scaleIn: {
              '0%': { transform: 'scale(0.95)', opacity: '0' },
              '100%': { transform: 'scale(1)', opacity: '1' },
            },
          },
          boxShadow: {
            'soft': '0 2px 4px rgba(0, 0, 0, 0.04), 0 4px 8px rgba(0, 0, 0, 0.06)',
            'medium': '0 4px 12px rgba(0, 42, 92, 0.08), 0 2px 4px rgba(0, 42, 92, 0.04)',
            'hard': '0 8px 24px rgba(0, 42, 92, 0.12), 0 4px 8px rgba(0, 42, 92, 0.06)',
            'lift': '0 12px 32px rgba(0, 42, 92, 0.15), 0 6px 12px rgba(0, 42, 92, 0.08)',
            'inner-glow': 'inset 0 0 0 1px rgba(198, 146, 20, 0.1), 0 1px 2px rgba(0, 0, 0, 0.05)',
          },
        },
      },
    };
  </script>

  <!-- Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Inter:wght@300;400;500;600&display=swap"
    rel="stylesheet"
  />
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html {
      overflow-x: hidden;
    }
    
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(180deg, #FAFAF8 0%, #F5F1E8 50%, #EDE8DC 100%);
      background-attachment: fixed;
      overflow-x: hidden;
      max-width: 100vw;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 15% 15%, rgba(154, 123, 79, 0.04) 0%, transparent 40%),
        radial-gradient(circle at 85% 85%, rgba(26, 58, 82, 0.04) 0%, transparent 40%),
        linear-gradient(180deg, transparent 0%, rgba(245, 241, 232, 0.3) 100%);
      pointer-events: none;
      z-index: 0;
    }
    
    .hero-pattern {
      background-image: 
        radial-gradient(circle at 20% 30%, rgba(154, 123, 79, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(26, 58, 82, 0.08) 0%, transparent 50%);
    }
    
    .back-button {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: #1A3A52;
      font-weight: 500;
      transition: all 0.3s ease;
    }
    
    .back-button:hover {
      color: #9A7B4F;
      transform: translateX(-4px);
    }
    
    .sermon-header {
      background: linear-gradient(135deg, #0A1F2E 0%, #1A3A52 40%, #0F2838 80%, #0A1F2E 100%);
      color: white;
      border-radius: 2rem;
      padding: 4rem 4.5rem;
      margin-bottom: 3rem;
      box-shadow: 
        0 20px 60px rgba(15, 40, 56, 0.25),
        0 8px 24px rgba(0, 0, 0, 0.12),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(154, 123, 79, 0.2);
      position: relative;
      overflow: hidden;
    }
    
    .sermon-header::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: 
        radial-gradient(circle at 40% 40%, rgba(154, 123, 79, 0.12) 0%, transparent 50%),
        radial-gradient(circle at 60% 60%, rgba(184, 149, 106, 0.08) 0%, transparent 50%);
      pointer-events: none;
    }
    
    .sermon-header::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent 0%, rgba(154, 123, 79, 0.5) 50%, transparent 100%);
    }
    
    .sermon-header > * {
      position: relative;
      z-index: 1;
    }
    
    .media-container {
      background: linear-gradient(135deg, #FFFFFF 0%, #FCFBF9 100%);
      border-radius: 1.5rem;
      padding: 2.5rem;
      margin-bottom: 2.5rem;
      box-shadow: 
        0 8px 32px rgba(26, 58, 82, 0.08),
        0 2px 8px rgba(0, 0, 0, 0.04),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
      border: 1px solid rgba(154, 123, 79, 0.12);
      position: relative;
      z-index: 1;
    }
    
    .media-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, transparent 0%, rgba(154, 123, 79, 0.3) 50%, transparent 100%);
      border-radius: 1.5rem 1.5rem 0 0;
    }
    
    .media-container h3 {
      font-size: 1.25rem;
      font-weight: 700;
      color: #1A3A52;
      margin-bottom: 1.5rem;
      letter-spacing: -0.02em;
    }
    
    .content-section {
      background: linear-gradient(135deg, #FFFFFF 0%, #FCFBF9 100%);
      border-radius: 1.5rem;
      padding: 3rem;
      margin-bottom: 2.5rem;
      box-shadow: 
        0 8px 32px rgba(26, 58, 82, 0.08),
        0 2px 8px rgba(0, 0, 0, 0.04),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
      border: 1px solid rgba(154, 123, 79, 0.12);
      position: relative;
      z-index: 1;
    }
    
    .content-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent 0%, rgba(154, 123, 79, 0.2) 50%, transparent 100%);
      border-radius: 1.5rem 1.5rem 0 0;
    }
    
    .scripture-callout {
      position: relative;
      background: linear-gradient(135deg, rgba(154, 123, 79, 0.08), rgba(184, 149, 106, 0.12));
      border-left: 5px solid transparent;
      padding: 2rem 2.25rem;
      border-radius: 1rem;
      margin: 1.5rem 0;
      box-shadow: 0 4px 16px rgba(154, 123, 79, 0.12), 0 1px 3px rgba(0, 0, 0, 0.05), inset 0 1px 0 rgba(255, 255, 255, 0.5);
      border-right: 1px solid rgba(154, 123, 79, 0.15);
      border-top: 1px solid rgba(154, 123, 79, 0.15);
      border-bottom: 1px solid rgba(154, 123, 79, 0.15);
    }
    
    .scripture-callout::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 5px;
      background: linear-gradient(180deg, #9A7B4F 0%, #B8956A 50%, #9A7B4F 100%);
      border-radius: 1rem 0 0 1rem;
    }
    
    .scripture-callout p:last-child {
      margin-bottom: 0;
    }
    
    .note-space {
      background: linear-gradient(135deg, #F5F1E8 0%, #F8F5ED 100%);
      border: 2px dashed rgba(154, 123, 79, 0.35);
      border-radius: 1rem;
      padding: 2.5rem;
      min-height: 150px;
      margin: 1rem 0;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: inset 0 2px 8px rgba(154, 123, 79, 0.04);
    }
    
    .note-space:focus-within {
      background: linear-gradient(135deg, #FAFAF8 0%, #F8F5ED 100%);
      border-color: rgba(154, 123, 79, 0.6);
      box-shadow: 0 0 0 4px rgba(154, 123, 79, 0.1), inset 0 2px 8px rgba(154, 123, 79, 0.06);
    }
    
    .note-space textarea {
      width: 100%;
      min-height: 120px;
      background: transparent;
      border: none;
      resize: vertical;
      font-family: 'Inter', sans-serif;
      font-size: 1rem;
      color: #2C2C2C;
      line-height: 1.6;
      outline: none;
    }
    
    .note-space textarea::placeholder {
      color: rgba(44, 44, 44, 0.3);
    }
    
    .audio-player {
      background: linear-gradient(135deg, #F5F1E8, #F8F5ED);
      border-radius: 0.75rem;
      padding: 1.25rem;
      border: 1px solid rgba(154, 123, 79, 0.15);
    }
    
    .audio-controls {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .play-btn {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: linear-gradient(135deg, #9A7B4F, #B8956A);
      color: white;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      box-shadow: 0 2px 8px rgba(154, 123, 79, 0.3);
    }
    
    .play-btn:hover {
      box-shadow: 0 4px 12px rgba(154, 123, 79, 0.4);
    }
    
    .progress-container {
      flex: 1;
      height: 6px;
      background: #E5E0D8;
      border-radius: 3px;
      cursor: pointer;
      position: relative;
    }
    
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #9A7B4F, #B8956A);
      border-radius: 3px;
      width: 0%;
    }
    
    .time-display {
      font-size: 0.875rem;
      color: #2C2C2C;
      font-weight: 500;
      min-width: 100px;
      text-align: right;
    }
    
    .download-btn {
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: linear-gradient(135deg, #9A7B4F, #B8956A, #9A7B4F);
      background-size: 200% 100%;
      color: white;
      padding: 0.875rem 1.75rem;
      border-radius: 0.875rem;
      font-weight: 600;
      text-decoration: none;
      box-shadow: 0 4px 16px rgba(154, 123, 79, 0.3), 0 1px 3px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
    }
    
    .download-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s ease;
    }
    
    .download-btn:hover {
      background-position: 100% 0;
      box-shadow: 0 6px 24px rgba(154, 123, 79, 0.4), 0 2px 8px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }
    
    .download-btn:hover::before {
      left: 100%;
    }
    
    /* Table of Contents Sidebar */
    .toc-sidebar {
      position: fixed;
      right: 2rem;
      top: 50%;
      transform: translateY(-50%);
      background: linear-gradient(135deg, #FFFFFF 0%, #FCFBF9 100%);
      border-radius: 1rem;
      padding: 1.5rem;
      box-shadow: 0 8px 32px rgba(26, 58, 82, 0.12), 0 2px 8px rgba(0, 0, 0, 0.06);
      max-width: 240px;
      max-height: 70vh;
      overflow-y: auto;
      z-index: 100;
      transition: all 0.3s ease;
    }
    
    .toc-sidebar h4 {
      font-size: 0.875rem;
      font-weight: 700;
      color: #1A3A52;
      margin: 0 0 1rem 0;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    
    .toc-sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .toc-sidebar li {
      margin-bottom: 0.75rem;
    }
    
    .toc-sidebar a {
      color: #2C2C2C;
      text-decoration: none;
      font-size: 0.875rem;
      line-height: 1.4;
      display: block;
      padding: 0.5rem 0.75rem;
      border-radius: 0.5rem;
      transition: all 0.2s ease;
      border-left: 3px solid transparent;
    }
    
    .toc-sidebar a:hover {
      background: rgba(154, 123, 79, 0.08);
      border-left-color: #9A7B4F;
      transform: translateX(4px);
    }
    
    .toc-sidebar a.active {
      background: rgba(154, 123, 79, 0.12);
      border-left-color: #9A7B4F;
      color: #1A3A52;
      font-weight: 600;
    }
    
    /* Scroll to Top Button */
    .scroll-top {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 3.5rem;
      height: 3.5rem;
      background: linear-gradient(135deg, #9A7B4F, #B8956A);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 4px 16px rgba(154, 123, 79, 0.3), 0 1px 3px rgba(0, 0, 0, 0.1);
      z-index: 99;
    }
    
    .scroll-top.visible {
      opacity: 1;
      visibility: visible;
    }
    
    .scroll-top:hover {
      transform: translateY(-4px);
      box-shadow: 0 6px 24px rgba(154, 123, 79, 0.4), 0 2px 8px rgba(0, 0, 0, 0.15);
    }
    
    .scroll-top svg {
      width: 1.5rem;
      height: 1.5rem;
      color: white;
    }
    
    /* Reading Time Tracker */
    .reading-stats {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 0.75rem;
      font-size: 0.875rem;
      color: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    /* Font Size Adjuster */
    .font-adjuster {
      position: fixed;
      left: 2rem;
      top: 50%;
      transform: translateY(-50%);
      background: linear-gradient(135deg, #FFFFFF 0%, #FCFBF9 100%);
      border-radius: 1rem;
      padding: 1rem;
      box-shadow: 0 8px 32px rgba(26, 58, 82, 0.12), 0 2px 8px rgba(0, 0, 0, 0.06);
      z-index: 100;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    
    .font-adjuster button {
      width: 2.5rem;
      height: 2.5rem;
      border: none;
      background: rgba(154, 123, 79, 0.1);
      color: #1A3A52;
      border-radius: 0.5rem;
      cursor: pointer;
      font-size: 1.125rem;
      font-weight: 700;
      transition: all 0.2s ease;
    }
    
    .font-adjuster button:hover {
      background: rgba(154, 123, 79, 0.2);
      transform: scale(1.05);
    }
    
    @media (max-width: 640px) {
      .sermon-header {
        padding: 2rem 1.5rem;
        border-radius: 1rem;
      }
      
      .content-section {
        padding: 1.5rem;
      }
      
      .audio-controls {
        flex-wrap: wrap;
      }
      
      .time-display {
        width: 100%;
        text-align: center;
        margin-top: 0.5rem;
      }
    }
    
    /* Navigation Styles */
    nav {
      position: sticky;
      top: 0;
      z-index: 100;
      background: linear-gradient(135deg, rgba(250, 250, 248, 0.98) 0%, rgba(245, 241, 232, 0.98) 100%);
      backdrop-filter: blur(20px) saturate(180%);
      border-bottom: 1px solid rgba(154, 123, 79, 0.15);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.02);
    }
    
    nav.scrolled {
      background: linear-gradient(135deg, rgba(250, 250, 248, 0.99) 0%, rgba(245, 241, 232, 0.99) 100%);
      box-shadow: 0 4px 20px rgba(26, 58, 82, 0.08), 0 1px 3px rgba(0, 0, 0, 0.05);
      border-bottom: 1px solid rgba(154, 123, 79, 0.2);
    }
    
    .nav-link {
      color: #2C2C2C;
      font-weight: 600;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      font-size: 15px;
      position: relative;
      padding: 0.5rem 1rem;
      letter-spacing: 0.3px;
    }
    
    .nav-link::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, #9A7B4F 0%, #B8956A 100%);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      transform: translateX(-50%);
      border-radius: 2px;
    }
    
    .nav-link:hover {
      color: #9A7B4F;
      transform: translateY(-1px);
    }
    
    .nav-link:hover::before {
      width: 100%;
    }
    
    .nav-link.active {
      color: #9A7B4F;
      position: relative;
    }
    
    .nav-link.active::before {
      width: 100%;
    }
    
    .nav-link.active::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 50%;
      width: 4px;
      height: 4px;
      background: #9A7B4F;
      border-radius: 50%;
      transform: translateX(-50%);
      animation: pulse 2s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; transform: translateX(-50%) scale(1); }
      50% { opacity: 0.6; transform: translateX(-50%) scale(1.3); }
    }
    
    .logo-link {
      position: relative;
      overflow: hidden;
    }
    
    .logo-link::after {
      content: '';
      position: absolute;
      inset: -2px;
      background: linear-gradient(45deg, transparent, rgba(154, 123, 79, 0.2), transparent);
      opacity: 0;
      transition: opacity 0.5s;
      border-radius: 8px;
    }
    
    .logo-link:hover::after {
      opacity: 1;
      animation: shimmer 1.5s ease-in-out infinite;
    }
    
    @keyframes shimmer {
      0% { transform: translateX(-100%) rotate(45deg); }
      100% { transform: translateX(100%) rotate(45deg); }
    }
    
    .mobile-menu-btn {
      display: none;
      background: linear-gradient(135deg, rgba(154, 123, 79, 0.1), rgba(154, 123, 79, 0.05));
      border: 1px solid rgba(154, 123, 79, 0.2);
      cursor: pointer;
      padding: 0.5rem;
      color: #2C2C2C;
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    
    .mobile-menu-btn:hover {
      background: linear-gradient(135deg, rgba(154, 123, 79, 0.15), rgba(154, 123, 79, 0.08));
      border-color: rgba(154, 123, 79, 0.3);
      transform: scale(1.05);
    }
    
    .mobile-menu-btn svg {
      transition: transform 0.3s ease;
    }
    
    .mobile-menu-btn.active svg {
      transform: rotate(90deg);
    }
    
    .mobile-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: linear-gradient(135deg, rgba(250, 250, 248, 0.98) 0%, rgba(245, 241, 232, 0.98) 100%);
      backdrop-filter: blur(20px) saturate(180%);
      border-bottom: 1px solid rgba(154, 123, 79, 0.2);
      box-shadow: 0 10px 25px rgba(26, 58, 82, 0.1);
      animation: slideDown 0.3s ease-out;
    }
    
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .mobile-menu.active {
      display: block;
    }
    
    .mobile-menu .nav-link {
      padding: 1rem 1.5rem;
      border-radius: 8px;
      margin: 0 1rem;
      transition: all 0.3s ease;
    }
    
    .mobile-menu .nav-link:hover {
      background: rgba(154, 123, 79, 0.08);
      transform: translateX(8px);
    }
    
    .mobile-menu .nav-link::before {
      display: none;
    }
    
    .mobile-menu .nav-link.active {
      background: linear-gradient(135deg, rgba(154, 123, 79, 0.12), rgba(154, 123, 79, 0.08));
    }
    
    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }
      
      .mobile-menu-btn {
        display: flex !important;
        min-width: 44px;
        min-height: 44px;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
      }
    }
    
    /* Mobile Header Optimizations */
    @media (max-width: 640px) {
      /* Header Layout */
      nav > div {
        padding: 0.75rem 1rem !important;
        gap: 0.5rem !important;
      }
      
      /* Logo Optimization */
      nav .text-3xl {
        font-size: 1.125rem;
        line-height: 1.2;
        white-space: nowrap;
      }
      
      nav .w-10 {
        width: 1.75rem;
        height: 1.75rem;
        flex-shrink: 0;
      }
      
      /* Hide Search on Mobile */
      .search-bar {
        display: none !important;
      }
      
      /* Mobile Menu Touch Targets */
      .mobile-menu .nav-link {
        padding: 1rem 1.5rem;
        min-height: 44px;
        display: flex;
        align-items: center;
        font-size: 1rem;
      }
    }
    
    /* Enhanced Typography */
    h1, h2, h3 {
      letter-spacing: -0.02em;
    }
    
    h2 {
      position: relative;
      padding-bottom: 0.75rem;
      margin-bottom: 1.5rem;
    }
    
    h2::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 60px;
      height: 3px;
      background: linear-gradient(90deg, #9A7B4F, transparent);
      border-radius: 2px;
    }
    
    .content-section h3 {
      position: relative;
      padding-left: 1rem;
    }
    
    .content-section h3::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 4px;
      height: 70%;
      background: linear-gradient(180deg, #9A7B4F, #B8956A);
      border-radius: 2px;
    }
    
    .content-section ul li {
      position: relative;
      padding-left: 0.5rem;
      line-height: 1.75;
    }
    
    .content-section ol li {
      line-height: 1.8;
    }
    
    /* Enhanced Tags */
    .sermon-header span {
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }
    
    .sermon-header span:hover {
      background: rgba(255, 255, 255, 0.15);
      transform: translateY(-2px);
    }
    
    /* Discussion Questions Enhancement */
    .content-section ol > li {
      padding: 1rem;
      border-radius: 0.5rem;
      transition: all 0.3s ease;
    }
    
    .content-section ol > li:hover {
      background: rgba(154, 123, 79, 0.03);
    }
    
    /* Prayer Points Enhancement */
    .content-section ul > li {
      padding: 0.75rem;
      border-radius: 0.5rem;
      transition: all 0.3s ease;
    }
    
    .content-section ul > li:hover {
      background: rgba(154, 123, 79, 0.03);
    }
  </style>
</head>
<body>
  <!-- Reading Progress Bar -->
  <div class="reading-progress" id="readingProgress"></div>
  
  <!-- Font Size Adjuster -->
  <div class="font-adjuster">
    <button id="fontIncrease" title="Increase font size" aria-label="Increase font size">A+</button>
    <button id="fontDecrease" title="Decrease font size" aria-label="Decrease font size">A-</button>
    <button id="fontReset" title="Reset font size" aria-label="Reset font size">A</button>
  </div>
  
  <!-- Navigation -->
  <nav id="mainNav">
    <!-- Premium Header Layout with Aligned Search -->
    <div class="flex items-center justify-between py-6 gap-8 px-8 md:px-16 lg:px-24">
      <!-- Logo -->
      <a href="../index.html" class="flex items-center gap-3 group flex-shrink-0">
        <svg class="w-10 h-10 text-flcGold group-hover:scale-110 transition-transform drop-shadow-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
        </svg>
        <span class="text-3xl font-heading font-extrabold text-flcNavy tracking-tight drop-shadow-sm">FLC Publishing</span>
      </a>
      <!-- Premium Search Bar (centered) -->
      <div class="flex-1 flex justify-center">
        <div class="search-bar relative w-full max-w-md">
          <input
            type="text"
            id="resourceSearch"
            placeholder="Search sermons and studies..."
            class="w-full px-5 py-3 pl-12 rounded-full border-2 border-flcGold/40 bg-white focus:outline-none focus:border-flcGold text-base text-flcCharcoal placeholder:text-flcCharcoal/40 font-light shadow-md"
          />
          <svg class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-flcGold/70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
          <button
            id="clearSearch"
            class="absolute right-4 top-1/2 -translate-y-1/2 text-flcGold/60 hover:text-flcNavy transition-colors hidden"
            aria-label="Clear search"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
      </div>
      <!-- Navigation Links -->
      <div class="nav-links items-center gap-10 flex-shrink-0">
        <a href="../pages/library.html" class="nav-link text-lg font-normal">Library</a>
        <a href="../pages/devotionals.html" class="nav-link text-lg font-normal">Devotionals</a>
        <a href="../pages/resources.html" class="nav-link text-lg font-normal">Resources</a>
        <a href="#subscribe" class="nav-link text-lg font-normal" id="navSubscribe">Subscribe</a>
      </div>
      
      <!-- Mobile Menu Button -->
      <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle menu">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
    
    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
      <div class="flex flex-col py-4">
        <a href="../pages/library.html" class="nav-link">Library</a>
        <a href="../pages/devotionals.html" class="nav-link">Devotionals</a>
        <a href="../pages/resources.html" class="nav-link">Resources</a>
        <a href="#subscribe" class="nav-link" id="navSubscribeMobile">Subscribe</a>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-8 pb-12" style="position: relative; z-index: 1;">
    
    <!-- Table of Contents -->
    <div class="toc-sidebar" id="tocSidebar">
      <h4>Contents</h4>
      <ul>
        <li><a href="#introduction" class="toc-link">Introduction</a></li>
        <li><a href="#content" class="toc-link">Main Content</a></li>
        <li><a href="#reflection" class="toc-link">Reflection</a></li>
      </ul>
    </div>
    
    <!-- Sermon Header -->
    <header class="sermon-header">
      <div class="flex flex-col md:flex-row gap-8 items-start">
        <!-- Featured Image Column -->
        <div class="md:w-72 flex-shrink-0">
          <div class="relative group">
            <div class="absolute -inset-1 bg-gradient-to-br from-flcGold/30 via-flcGoldLight/20 to-transparent rounded-xl blur opacity-50 group-hover:opacity-75 transition duration-500"></div>
            <img src="../assets/images/compassion.webp" alt="When Compassion Costs You Sleep" class="relative w-full h-auto rounded-xl shadow-2xl border border-white/10" style="max-height: 320px; object-fit: cover;">
          </div>
        </div>
        
        <!-- Content Column -->
        <div class="flex-1 flex flex-col justify-center">
          <div class="inline-flex items-center gap-2 mb-4">
            <div class="h-px w-8 bg-gradient-to-r from-flcGold to-transparent"></div>
            <p class="text-flcGold text-xs font-bold uppercase tracking-[0.2em] opacity-90">Sermon Notes</p>
          </div>
          
          <h1 class="text-4xl sm:text-5xl lg:text-6xl font-heading font-bold mb-4 leading-[1.1] tracking-tight bg-gradient-to-br from-white via-white to-white/80 bg-clip-text">
            When Compassion Costs You Sleep
          </h1>
          
          <div class="flex items-center gap-3 mb-5">
            <div class="h-12 w-12 rounded-full bg-gradient-to-br from-flcGold/20 to-flcGoldDark/10 flex items-center justify-center border border-white/10">
              <svg class="w-6 h-6 text-flcGold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
              </svg>
            </div>
            <div>
              <p class="text-white text-lg font-semibold leading-tight">Pastor Rohan Samuels</p>
              <p class="text-white/60 text-sm">Freedom Life Church</p>
            </div>
          </div>
          
          <div class="flex items-center gap-4 mb-5 text-sm text-white/70">
            <span class="inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10">
              <svg class="w-4 h-4 text-flcGold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
              </svg>
              November 2, 2025
            </span>
            <span class="inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10">
              <svg class="w-4 h-4 text-flcGold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <span id="readingTime">10 min read</span>
            </span>
          </div>
          
          <div class="flex flex-wrap gap-2.5 mb-6">
            <span class="px-4 py-2 bg-gradient-to-br from-white/15 to-white/5 backdrop-blur-sm rounded-full text-sm font-medium tracking-wide border border-white/10 hover:border-flcGold/30 transition-all duration-300">Compassion</span>
            <span class="px-4 py-2 bg-gradient-to-br from-white/15 to-white/5 backdrop-blur-sm rounded-full text-sm font-medium tracking-wide border border-white/10 hover:border-flcGold/30 transition-all duration-300">Service</span>
            <span class="px-4 py-2 bg-gradient-to-br from-white/15 to-white/5 backdrop-blur-sm rounded-full text-sm font-medium tracking-wide border border-white/10 hover:border-flcGold/30 transition-all duration-300">Faith in Action</span>
          </div>
          
          <!-- Action Buttons -->
          <div class="flex flex-wrap gap-3">
            <a href="https://www.youtube.com/watch?v=PLACEHOLDER" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-flcGold to-flcGoldLight text-white rounded-lg font-semibold text-sm hover:shadow-lg hover:scale-105 transition-all duration-300">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
              </svg>
              Watch Sermon
            </a>
            <a href="../assets/pdfs/when-compassion-costs-you-sleep.pdf" download class="inline-flex items-center gap-2 px-5 py-2.5 bg-white/10 text-white rounded-lg font-semibold text-sm border border-white/20 hover:bg-white/20 hover:border-white/30 transition-all duration-300">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
              </svg>
              Download PDF
            </a>
          </div>
        </div>
      </div>
    </header>

    <!-- Watch Full Sermon CTA -->
    <div class="content-section">
      <div class="flex flex-col items-center text-center py-8">
        <svg class="w-16 h-16 text-flcGold mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <h3 class="text-2xl font-heading font-bold text-flcNavy mb-3">Watch the Full Sermon</h3>
        <p class="text-flcCharcoal/70 mb-6 max-w-xl">Experience the complete message as Pastor Rohan Samuels explores what it means when compassion requires sacrifice.</p>
        <a href="https://www.youtube.com/watch?v=PLACEHOLDER" target="_blank" rel="noopener noreferrer" class="download-btn inline-flex">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
          </svg>
          Watch on YouTube
        </a>
      </div>
    </div>

    <!-- Download Section -->
    <div class="content-section" id="introduction">
      <h2 class="text-2xl font-heading font-bold text-flcNavy mb-4">Download Resources</h2>
      <div class="flex flex-wrap gap-3">
        <a href="assets/pdfs/when-compassion-costs-you-sleep.pdf" class="download-btn" download>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
          </svg>
          Download PDF
        </a>
        <a href="assets/audio/when-compassion-costs-you-sleep.mp3" class="download-btn" download>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path>
          </svg>
          Download Audio
        </a>
      </div>
    </div>

    <!-- Main Idea -->
    <div class="content-section" id="content">
      <h2 class="text-2xl font-heading font-bold text-flcNavy">Main Idea</h2>
      <p class="text-flcCharcoal/85 leading-relaxed text-lg" style="line-height: 1.8;">
        True compassion isn't convenient—it disrupts our comfort, challenges our schedules, and sometimes costs us our rest. 
        When we follow Christ's example of compassion, we learn that loving others deeply may require personal sacrifice, 
        but it's in these moments that we most reflect the heart of God.
      </p>
    </div>

    <!-- Key Scripture -->
    <div class="content-section">
      <h2 class="text-2xl font-heading font-bold text-flcNavy">Key Scripture</h2>
      <div class="scripture-callout">
        <p class="font-semibold text-flcGold mb-3 text-base tracking-wide">Matthew 9:36</p>
        <p class="text-flcCharcoal/90 italic text-[17px]" style="line-height: 1.8;">
          "When he saw the crowds, he had compassion on them, because they were harassed and helpless, 
          like sheep without a shepherd."
        </p>
      </div>
      <div class="scripture-callout">
        <p class="font-semibold text-flcGold mb-3 text-base tracking-wide">1 John 3:17-18</p>
        <p class="text-flcCharcoal/90 italic text-[17px]" style="line-height: 1.8;">
          "If anyone has material possessions and sees a brother or sister in need but has no pity on them, 
          how can the love of God be in that person? Dear children, let us not love with words or speech 
          but with actions and in truth."
        </p>
      </div>
    </div>

    <!-- Sermon Outline -->
    <div class="content-section" id="reflection">
      <h2 class="text-2xl font-heading font-bold text-flcNavy">Sermon Outline</h2>
      
      <div class="space-y-8">
        <div>
          <h3 class="text-xl font-heading font-semibold text-flcNavy mb-4">1. Compassion Sees Beyond Convenience</h3>
          <ul class="space-y-3 ml-6 text-flcCharcoal/85 text-base">
            <li class="list-disc">Jesus didn't wait for the "right time" to show compassion</li>
            <li class="list-disc">Real need doesn't fit into our schedules</li>
            <li class="list-disc">God calls us to be interruptible</li>
          </ul>
          <div class="note-space mt-4">
            <p class="text-sm text-flcCharcoal/50 mb-2">Personal Application Notes:</p>
            <textarea class="note-textarea" data-note="section1" placeholder="Type your notes here..."></textarea>
          </div>
        </div>

        <div>
          <h3 class="text-xl font-heading font-semibold text-flcNavy mb-4">2. Compassion Requires Personal Sacrifice</h3>
          <ul class="space-y-3 ml-6 text-flcCharcoal/85 text-base">
            <li class="list-disc">The Good Samaritan story - Luke 10:25-37</li>
            <li class="list-disc">Compassion costs: time, resources, comfort</li>
            <li class="list-disc">Love in action vs. love in theory</li>
          </ul>
          <div class="note-space mt-4">
            <p class="text-sm text-flcCharcoal/50 mb-2">Personal Application Notes:</p>
            <textarea class="note-textarea" data-note="section2" placeholder="Type your notes here..."></textarea>
          </div>
        </div>

        <div>
          <h3 class="text-xl font-heading font-semibold text-flcNavy mb-4">3. Compassion Reflects God's Heart</h3>
          <ul class="space-y-3 ml-6 text-flcCharcoal/85 text-base">
            <li class="list-disc">We are the hands and feet of Christ</li>
            <li class="list-disc">Our compassion is a testimony to His love</li>
            <li class="list-disc">Kingdom impact through sacrificial love</li>
          </ul>
          <div class="note-space mt-4">
            <p class="text-sm text-flcCharcoal/50 mb-2">Personal Application Notes:</p>
            <textarea class="note-textarea" data-note="section3" placeholder="Type your notes here..."></textarea>
          </div>
        </div>
      </div>
    </div>

    <!-- Discussion Questions -->
    <div class="content-section">
      <h2 class="text-2xl font-heading font-bold text-flcNavy">Discussion Questions</h2>
      <ol class="space-y-5 text-flcCharcoal/85">
        <li class="flex gap-4">
          <span class="font-bold text-flcGold flex-shrink-0 text-lg">1.</span>
          <span class="text-base" style="line-height: 1.7;">When was the last time showing compassion was truly inconvenient for you? How did you respond?</span>
        </li>
        <li class="flex gap-4">
          <span class="font-bold text-flcGold flex-shrink-0 text-lg">2.</span>
          <span class="text-base" style="line-height: 1.7;">What are some practical barriers that prevent us from showing compassion in our daily lives?</span>
        </li>
        <li class="flex gap-4">
          <span class="font-bold text-flcGold flex-shrink-0 text-lg">3.</span>
          <span class="text-base" style="line-height: 1.7;">How can we develop a heart that sees people the way Jesus sees them?</span>
        </li>
        <li class="flex gap-4">
          <span class="font-bold text-flcGold flex-shrink-0 text-lg">4.</span>
          <span class="text-base" style="line-height: 1.7;">What is one specific way you can practice sacrificial compassion this week?</span>
        </li>
      </ol>
    </div>

    <!-- Prayer Points -->
    <div class="content-section">
      <h2 class="text-2xl font-heading font-bold text-flcNavy">Prayer Points</h2>
      <ul class="space-y-4 text-flcCharcoal/85">
        <li class="flex gap-4 items-start">
          <svg class="w-5 h-5 text-flcGold flex-shrink-0 mt-1" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"></path>
          </svg>
          <span class="text-base" style="line-height: 1.7;">Ask God to give you eyes to see the needs around you</span>
        </li>
        <li class="flex gap-4 items-start">
          <svg class="w-5 h-5 text-flcGold flex-shrink-0 mt-1" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"></path>
          </svg>
          <span class="text-base" style="line-height: 1.7;">Pray for strength to act even when it's inconvenient</span>
        </li>
        <li class="flex gap-4 items-start">
          <svg class="w-5 h-5 text-flcGold flex-shrink-0 mt-1" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"></path>
          </svg>
          <span class="text-base" style="line-height: 1.7;">Ask for wisdom in how to help others effectively</span>
        </li>
        <li class="flex gap-4 items-start">
          <svg class="w-5 h-5 text-flcGold flex-shrink-0 mt-1" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"></path>
          </svg>
          <span class="text-base" style="line-height: 1.7;">Thank God for His compassion toward us</span>
        </li>
      </ul>
    </div>

    <!-- Additional Notes -->
    <div class="content-section">
      <h2 class="text-2xl font-heading font-bold text-flcNavy mb-4">Additional Notes</h2>
      <div class="note-space" style="min-height: 250px;">
        <textarea class="note-textarea" data-note="additional" placeholder="Space for your personal notes and reflections..." style="min-height: 220px;"></textarea>
      </div>
    </div>

    <!-- More Sermons Navigation -->
    <div class="content-section" style="background: linear-gradient(135deg, rgba(154, 123, 79, 0.05), rgba(184, 149, 106, 0.08));">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-heading font-bold text-flcNavy mb-0">More Sermons</h2>
        <a href="../pages/library.html" class="text-flcGold hover:text-flcGoldDark font-semibold text-sm flex items-center gap-2 transition-colors">
          View All
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </a>
      </div>
      
      <!-- Other Sermon Card -->
      <a href="sermon-im-under-pressure.html" class="block group">
        <div class="flex flex-col sm:flex-row gap-6 p-6 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border border-flcBorder/50 hover:border-flcGold/30">
          <div class="sm:w-48 flex-shrink-0">
            <img src="../assets/images/Noahs Ark.png" alt="I'm Under Pressure" class="w-full h-32 sm:h-full object-cover rounded-lg">
          </div>
          <div class="flex-1">
            <div class="flex items-center gap-2 mb-2">
              <span class="text-xs font-semibold text-flcGold uppercase tracking-wider">Sermon</span>
              <span class="text-xs text-flcCharcoal/50">•</span>
              <span class="text-xs text-flcCharcoal/60">November 23, 2024</span>
            </div>
            <h3 class="text-xl font-heading font-bold text-flcNavy mb-2 group-hover:text-flcGold transition-colors">I'm Under Pressure</h3>
            <p class="text-flcCharcoal/70 text-sm mb-3 line-clamp-2">Experience the complete message as Pastor Rohan Samuels shares powerful insights on navigating pressure with faith.</p>
            <div class="flex items-center gap-3 text-xs text-flcCharcoal/60">
              <span class="flex items-center gap-1">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                </svg>
                Pastor Rohan Samuels
              </span>
              <span>•</span>
              <span class="inline-flex items-center gap-1 px-2 py-1 bg-flcGold/10 rounded-full text-flcGold font-medium">Pressure</span>
            </div>
          </div>
        </div>
      </a>
    </div>

  </main>

  <script>
    // Audio Player Functionality
    const audio = document.getElementById('audioPlayer');
    const playBtn = document.getElementById('playBtn');
    const playIcon = document.getElementById('playIcon');
    const pauseIcon = document.getElementById('pauseIcon');
    const progressBar = document.getElementById('progressBar');
    const progressContainer = document.getElementById('progressContainer');
    const currentTimeEl = document.getElementById('currentTime');
    const durationEl = document.getElementById('duration');

    // Format time helper
    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${mins}:${secs.toString().padStart(2, '0')}`;
    }

    // Play/Pause toggle
    playBtn.addEventListener('click', () => {
      if (audio.paused) {
        audio.play();
        playIcon.classList.add('hidden');
        pauseIcon.classList.remove('hidden');
      } else {
        audio.pause();
        playIcon.classList.remove('hidden');
        pauseIcon.classList.add('hidden');
      }
    });

    // Update progress bar
    audio.addEventListener('timeupdate', () => {
      const progress = (audio.currentTime / audio.duration) * 100;
      progressBar.style.width = `${progress}%`;
      currentTimeEl.textContent = formatTime(audio.currentTime);
    });

    // Set duration when metadata loads
    audio.addEventListener('loadedmetadata', () => {
      durationEl.textContent = formatTime(audio.duration);
    });

    // Seek functionality
    progressContainer.addEventListener('click', (e) => {
      const rect = progressContainer.getBoundingClientRect();
      const percent = (e.clientX - rect.left) / rect.width;
      audio.currentTime = percent * audio.duration;
    });

    // Reset play button when audio ends
    audio.addEventListener('ended', () => {
      playIcon.classList.remove('hidden');
      pauseIcon.classList.add('hidden');
      progressBar.style.width = '0%';
    });
    
    // ========================================
    // NAVIGATION
    // ========================================
    
    const mainNav = document.getElementById('mainNav');
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    
    // Toggle mobile menu
    mobileMenuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('active');
      mobileMenuBtn.classList.toggle('active');
    });
    
    // Close mobile menu when clicking a link
    mobileMenu.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu.classList.remove('active');
      });
    });
    
    
    // Add scrolled class to nav on scroll
    window.addEventListener('scroll', () => {
      if (window.scrollY > 20) {
        mainNav.classList.add('scrolled');
      } else {
        mainNav.classList.remove('scrolled');
      }
    });
  </script>
  
  <script>
    // Notes Persistence with LocalStorage
    document.addEventListener('DOMContentLoaded', function() {
      const sermonId = 'sermon-when-compassion-costs-you-sleep';
      const textareas = document.querySelectorAll('.note-textarea');
      
      // Load saved notes
      textareas.forEach(textarea => {
        const noteId = textarea.getAttribute('data-note');
        const savedNote = localStorage.getItem(`${sermonId}-${noteId}`);
        if (savedNote) {
          textarea.value = savedNote;
        }
      });
      
      // Save notes on input
      textareas.forEach(textarea => {
        textarea.addEventListener('input', function() {
          const noteId = this.getAttribute('data-note');
          localStorage.setItem(`${sermonId}-${noteId}`, this.value);
        });
      });
      
      // Subscription modal
      var subscriptionModal = document.getElementById('subscriptionModal');
      var navSubscribeBtn = document.getElementById('navSubscribe');
      if (navSubscribeBtn && subscriptionModal) {
        navSubscribeBtn.addEventListener('click', function(e) {
          e.preventDefault();
          subscriptionModal.classList.add('show');
          document.body.style.overflow = 'hidden';
        });
      }
    });
  </script>
  
  <!-- Scroll to Top Button -->
  <div class="scroll-top" id="scrollTop">
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
    </svg>
  </div>
  
  <script>
    // Reading Progress Bar
    window.addEventListener('scroll', () => {
      const winScroll = document.documentElement.scrollTop || document.body.scrollTop;
      const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const scrolled = (winScroll / height) * 100;
      document.getElementById('readingProgress').style.width = scrolled + '%';
    });
    
    // Scroll to Top Button
    const scrollTopBtn = document.getElementById('scrollTop');
    window.addEventListener('scroll', () => {
      if (window.pageYOffset > 300) {
        scrollTopBtn.classList.add('visible');
      } else {
        scrollTopBtn.classList.remove('visible');
      }
    });
    
    scrollTopBtn.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
    
    // Table of Contents Active State
    const tocLinks = document.querySelectorAll('.toc-link');
    const sections = document.querySelectorAll('[id]');
    
    window.addEventListener('scroll', () => {
      let current = '';
      sections.forEach(section => {
        const sectionTop = section.offsetTop;
        const sectionHeight = section.clientHeight;
        if (window.pageYOffset >= sectionTop - 100) {
          current = section.getAttribute('id');
        }
      });
      
      tocLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + current) {
          link.classList.add('active');
        }
      });
    });
    
    // Smooth Scroll for TOC
    tocLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = link.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
          const navHeight = document.getElementById('mainNav').offsetHeight;
          const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - navHeight - 20;
          window.scrollTo({ top: targetPosition, behavior: 'smooth' });
        }
      });
    });
    
    // Font Size Adjuster
    let currentFontSize = 100;
    const contentAreas = document.querySelectorAll('.content-section, .media-container, .scripture-callout');
    
    document.getElementById('fontIncrease').addEventListener('click', () => {
      if (currentFontSize < 150) {
        currentFontSize += 10;
        applyFontSize();
      }
    });
    
    document.getElementById('fontDecrease').addEventListener('click', () => {
      if (currentFontSize > 80) {
        currentFontSize -= 10;
        applyFontSize();
      }
    });
    
    document.getElementById('fontReset').addEventListener('click', () => {
      currentFontSize = 100;
      applyFontSize();
    });
    
    function applyFontSize() {
      contentAreas.forEach(area => {
        area.style.fontSize = currentFontSize + '%';
      });
      localStorage.setItem('sermon-font-size', currentFontSize);
    }
    
    // Load saved font size
    const savedFontSize = localStorage.getItem('sermon-font-size');
    if (savedFontSize) {
      currentFontSize = parseInt(savedFontSize);
      applyFontSize();
    }
  </script>
</body>
</html>
