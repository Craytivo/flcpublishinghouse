<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Week 4: The Light of Joy - Advent Devotional</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="../assets/images/Dark_Logo-removebg-preview.png">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'heading': ['Playfair Display', 'serif'],
            'sans': ['Inter', 'sans-serif']
          },
          colors: {
            flcNavy: '#1A3A52',
            flcGold: '#9A7B4F',
            flcGoldLight: '#B8956A',
            flcCharcoal: '#2C2C2C',
            flcCream: '#F5F1E8',
            flcOffWhite: '#FAFAF8',
            flcBorder: '#E5E0D8'
          }
        }
      }
    }
  </script>
  
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #FAFAF8;
      line-height: 1.75;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Print Styles */
    @media print {
      .no-print { display: none !important; }
      body { background: white !important; }
      .day-card { page-break-inside: avoid; box-shadow: none !important; }
      .scripture-section, .reflection-section, .prayer-section { page-break-inside: avoid; }
    }

    /* Highlight Styles */
    .highlight-yellow { background-color: #fef08a; padding: 3px 6px; border-radius: 4px; transition: all 0.2s; }
    .highlight-green { background-color: #bbf7d0; padding: 3px 6px; border-radius: 4px; transition: all 0.2s; }
    .highlight-pink { background-color: #fbcfe8; padding: 3px 6px; border-radius: 4px; transition: all 0.2s; }

    /* Selection Style */
    ::selection {
      background-color: #fef3c7;
      color: #92400e;
    }

    /* Quote Decoration */
    .quote-decoration {
      position: relative;
      padding-left: 2rem;
    }

    .quote-decoration::before {
      content: '"';
      position: absolute;
      left: 0;
      top: -10px;
      font-size: 4rem;
      font-family: Georgia, serif;
      color: #9A7B4F;
      opacity: 0.2;
      line-height: 1;
    }

    /* Note Area */
    .note-area {
      resize: vertical;
      min-height: 100px;
      font-family: 'Inter', sans-serif;
    }

    /* Audio Player Styles */
    .audio-player {
      background: linear-gradient(135deg, #1A3A52 0%, #2A4A62 100%);
      border-radius: 12px;
      padding: 16px;
      color: white;
      box-shadow: 0 4px 12px rgba(26, 58, 82, 0.15);
    }

    .audio-progress {
      height: 6px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      overflow: hidden;
      cursor: pointer;
    }

    .audio-progress-bar {
      height: 100%;
      background: white;
      width: 0%;
      transition: width 0.1s;
    }

    /* Section Icons */
    .section-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      flex-shrink: 0;
    }

    /* Scripture Section */
    .scripture-section {
      background: white;
      border-left: 5px solid #9A7B4F;
      border-radius: 20px;
      padding: 20px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.04), 0 1px 3px rgba(0, 0, 0, 0.02);
      transition: box-shadow 0.3s ease;
    }

    .scripture-section:hover {
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.06), 0 2px 6px rgba(0, 0, 0, 0.03);
    }

    /* Reflection Section */
    .reflection-section {
      background: white;
      border-left: 5px solid #2A4A62;
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.04), 0 1px 3px rgba(0, 0, 0, 0.02);
      transition: box-shadow 0.3s ease;
    }

    .reflection-section:hover {
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.06), 0 2px 6px rgba(0, 0, 0, 0.03);
    }

    /* Prayer Section */
    .prayer-section {
      background: white;
      border-left: 5px solid #1A3A52;
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.04), 0 1px 3px rgba(0, 0, 0, 0.02);
      transition: box-shadow 0.3s ease;
    }

    .prayer-section:hover {
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.06), 0 2px 6px rgba(0, 0, 0, 0.03);
    }

    @media (min-width: 640px) {
      .scripture-section, .reflection-section, .prayer-section {
        padding: 28px;
      }
    }

    /* Hover Effects */
    .highlight-btn {
      transition: all 0.2s;
      cursor: pointer;
    }

    .highlight-btn:hover {
      transform: scale(1.1);
    }

    .highlight-btn:active {
      transform: scale(0.95);
    }
  </style>
</head>
<body class="bg-gray-50">
  
  <!-- Header Container -->
  <div id="headerContainer" 
       data-config='{"logoPath": "../assets/images/Dark_Logo-removebg-preview.png", "homePath": "../index.html", "libraryPath": "../pages/library.html", "devotionalsPath": "../pages/devotionals.html", "resourcesPath": "../pages/resources.html"}'></div>
  <script src="../assets/js/header-component.js"></script>

  <!-- Main Content -->
  <main class="max-w-4xl mx-auto px-4 sm:px-6 py-12">
    
    <!-- Back Button -->
    <div class="mb-6 no-print">
      <a href="../pages/devotionals.html" class="inline-flex items-center text-flcNavy hover:text-flcGold transition-colors font-medium">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
        Back to All Weeks
      </a>
    </div>

    <!-- Week Header with Image -->
    <header class="mb-12">
      <div class="rounded-2xl shadow-2xl overflow-hidden" style="background: linear-gradient(135deg, #0F2838 0%, #1A3A52 50%, #0F2838 100%);">
        <div class="flex flex-col md:flex-row items-stretch">
          <!-- Image -->
          <div class="w-full md:w-2/5 lg:w-1/2 flex-shrink-0 bg-gradient-to-br from-flcNavy/50 to-transparent flex items-center justify-center p-6 md:p-8 lg:p-12">
            <img src="../assets/images/Light of Joy.webp" alt="Joy to the World" class="w-full h-auto object-contain max-w-md rounded-xl">
          </div>
          
          <!-- Content -->
          <div class="text-white flex-1 p-6 sm:p-8 lg:p-12 flex flex-col">
          <!-- Meta Info -->
          <div class="flex flex-wrap items-center gap-3 mb-6">
            <div class="inline-flex items-center gap-2 bg-flcGold/20 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-bold text-flcGold border border-flcGold/30">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 20l4-16m2 16l4-16M6 9h14M4 15h14"></path>
              </svg>
              <span class="hidden sm:inline">WEEK 4 ‚Ä¢ DECEMBER 21-25 ‚Ä¢ FINAL WEEK</span>
              <span class="sm:hidden">WEEK 4 ‚Ä¢ FINAL</span>
            </div>
            <div class="inline-flex items-center gap-2 text-white/70 text-xs">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <span>12 min</span>
            </div>
          </div>
          
          <!-- Title -->
          <h1 class="text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-heading font-bold mb-4 lg:mb-6 leading-tight">The Light<br class="sm:hidden" /> of Joy</h1>
          
          <!-- Description -->
          <p class="text-base sm:text-lg lg:text-xl text-white/90 mb-6 leading-relaxed">The good news proclaimed to the shepherds brings deep, enduring gladness rooted in God's faithfulness and redemption</p>
          
          <!-- Author -->
          <div class="flex items-center gap-2 text-white/70 text-sm mb-6">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
            </svg>
            <span>By Jarrel Oliveira</span>
          </div>
          
          <!-- Scripture Box -->
          <div class="bg-white/10 backdrop-blur-sm border-l-4 border-flcGold rounded-lg p-4 sm:p-5">
            <p class="text-flcGold font-bold text-sm mb-3">Luke 2:8-11</p>
            <p class="text-white/90 italic text-sm leading-relaxed">
              In the same region, shepherds were staying out in the fields and keeping watch at night over their flock. Then an angel of the Lord stood before them, and the glory of the Lord shone around them, and they were terrified. But the angel said to them, "Don't be afraid, for look, I proclaim to you good news of great joy that will be for all the people: Today in the city of David a Savior was born for you, who is the Messiah, the Lord."
            </p>
          </div>
          </div>
        </div>
        
        <!-- Toolbar -->
        <div class="flex flex-wrap gap-2 no-print p-6 sm:p-8 lg:p-12 pt-0">
            <button onclick="window.print()" class="inline-flex items-center gap-2 bg-white/10 hover:bg-white/20 px-3 py-2 rounded-lg text-xs sm:text-sm font-medium transition backdrop-blur-sm border border-white/20">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path>
              </svg>
              Print
            </button>
            <button onclick="clearAllNotes()" class="inline-flex items-center gap-2 bg-white/10 hover:bg-white/20 px-3 py-2 rounded-lg text-xs sm:text-sm font-medium transition backdrop-blur-sm border border-white/20">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
              </svg>
              Clear Notes
            </button>
            <button onclick="clearAllHighlights()" class="inline-flex items-center gap-2 bg-white/10 hover:bg-white/20 px-3 py-2 rounded-lg text-xs sm:text-sm font-medium transition backdrop-blur-sm border border-white/20">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
              </svg>
              Clear Highlights
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Content Container -->
    <article class="space-y-8 sm:space-y-12">
      
      <!-- Scripture Section -->
      <section class="scripture-section">
        <button onclick="toggleSection('scripture')" class="flex items-start gap-3 sm:gap-4 mb-6 w-full text-left sm:pointer-events-none">
          <div class="section-icon bg-flcGold/10 border border-flcGold/20">
            <svg class="w-5 h-5 sm:w-6 sm:h-6 text-flcGold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"></path>
            </svg>
          </div>
          <div class="flex-1">
            <h2 class="text-xl sm:text-2xl font-heading font-bold text-gray-900 mb-1">Scripture</h2>
            <p class="text-xs sm:text-sm text-flcGold font-medium">Luke 2:8-11</p>
          </div>
          <svg class="w-5 h-5 text-flcGold transition-all duration-300 sm:hidden" id="scripture-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 4v16m8-8H4"></path>
          </svg>
        </button>
        <div id="scripture-content" class="hidden sm:block">
          <div class="flex flex-wrap gap-2 no-print mb-6">
            <span class="text-xs text-gray-500 font-medium mr-2 flex items-center">Highlight:</span>
            <button onclick="highlightSelection('yellow')" class="highlight-btn inline-flex items-center gap-1.5 px-3 py-1.5 bg-yellow-100 hover:bg-yellow-200 rounded-lg border border-yellow-400 shadow-sm text-xs font-medium" title="Yellow Highlight">
              <span class="w-3 h-3 rounded bg-yellow-400"></span>
              Yellow
            </button>
            <button onclick="highlightSelection('green')" class="highlight-btn inline-flex items-center gap-1.5 px-3 py-1.5 bg-green-100 hover:bg-green-200 rounded-lg border border-green-400 shadow-sm text-xs font-medium" title="Green Highlight">
              <span class="w-3 h-3 rounded bg-green-400"></span>
              Green
            </button>
            <button onclick="highlightSelection('pink')" class="highlight-btn inline-flex items-center gap-1.5 px-3 py-1.5 bg-pink-100 hover:bg-pink-200 rounded-lg border border-pink-400 shadow-sm text-xs font-medium" title="Pink Highlight">
              <span class="w-3 h-3 rounded bg-pink-400"></span>
              Pink
            </button>
          </div>
        </div>

        <div class="prose prose-lg max-w-none mt-6">
          <div class="quote-decoration text-gray-800 leading-relaxed space-y-4 text-base sm:text-lg" id="scripture-text">
            <p>In the same region, shepherds were staying out in the fields and keeping watch at night over their flock. Then an angel of the Lord stood before them, and the glory of the Lord shone around them, and they were terrified. But the angel said to them, "Don't be afraid, for look, I proclaim to you good news of great joy that will be for all the people: Today in the city of David a Savior was born for you, who is the Messiah, the Lord."</p>
          </div>
        </div>
        </div>
      </section>

      <!-- Reflection Section -->
      <section class="reflection-section">
        <button onclick="toggleSection('reflection')" class="flex items-start gap-3 sm:gap-4 mb-6 w-full text-left sm:pointer-events-none">
          <div class="section-icon bg-flcNavy/10 border border-flcNavy/20">
            <span class="text-xl sm:text-2xl">üí≠</span>
          </div>
          <div class="flex-1">
            <h2 class="text-xl sm:text-2xl font-heading font-bold text-gray-900">Reflection</h2>
          </div>
          <svg class="w-5 h-5 text-flcNavy transition-all duration-300 sm:hidden" id="reflection-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 4v16m8-8H4"></path>
          </svg>
        </button>
        <div id="reflection-content" class="hidden sm:block">

        <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed space-y-4 text-base sm:text-lg" id="reflection-text">
          <p>On a quiet night, as shepherds kept watch over their flocks, news of extraordinary significance broke into the stillness: the long-awaited promise of God had arrived in a newborn child. For generations, God's people had waited with longing, hope, and expectation. Now that waiting finds its fulfillment in a Savior who brings joy not as fleeting cheerfulness, but as a deep, enduring gladness rooted in God's faithfulness and His work of redemption. Advent reminds us that joy is not merely a feeling; it is the recognition that God is present, active, and working to restore what has been broken in our world and in our hearts.</p>
          
          <p>God's work in history shows that He is neither distant nor indifferent. He moves in our time, enters our story, and reverses the patterns of injustice, oppression, and despair. The birth of Jesus is the hinge of that work: the Eternal God becomes human so that we might belong to His story. Joy is then more than emotion‚Äîit is the posture of a people who know they are seen, loved, and held by a faithful Creator. In Christ, the promises of God are tangible, and the hope of restoration becomes a lived experience.</p>
          
          <p>This joy is practical and transformative. It shapes the way we speak, act, and treat others. It inspires us to serve those in need, to lift the weary, and to share the light of God's presence wherever darkness lingers. Even amid sorrow, uncertainty, or loss, the good news of Christ is a present source of courage, peace, and gladness. Advent invites us to carry this joy outward‚Äîinto our families, communities, and daily interactions‚Äîso that others may glimpse the faithful love of God through our witness.</p>
          
          <p>As we prepare to celebrate Christmas, may our hearts dwell in the joy of God's arrival. May it guide our words, inform our actions, and shape our outlook, so that every encounter becomes an opportunity to reflect the delight and hope that Christ brings to a world longing for light.</p>
        </div>
        </div>
      </section>

      <!-- Prayer Section -->
      <section class="prayer-section">
        <button onclick="toggleSection('prayer')" class="flex items-start gap-3 sm:gap-4 mb-6 w-full text-left sm:pointer-events-none">
          <div class="section-icon bg-flcNavyLight/10 border border-flcNavyLight/20">
            <svg class="w-5 h-5 sm:w-6 sm:h-6 text-flcNavy" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
            </svg>
          </div>
          <div class="flex-1">
            <h2 class="text-xl sm:text-2xl font-heading font-bold text-gray-900">Prayer</h2>
          </div>
          <svg class="w-5 h-5 text-flcNavy transition-all duration-300 sm:hidden" id="prayer-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 4v16m8-8H4"></path>
          </svg>
        </button>
        <div id="prayer-content" class="hidden sm:block">

        <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed italic text-base sm:text-lg">
          <p>Father of Lights, fill me with the joy that flows from Your presence. Let this joy sustain me in uncertainty, lift me in discouragement, and shape the words I speak to others. May my life radiate the gladness of Christ‚Äôs coming and reflect the hope of His kingdom. Keep sorrow from consuming me, and anchor my heart in Your unshakable promises. In Jesus‚Äô name, amen.</p>
        </div>
        </div>
      </section>

      <!-- Personal Notes Section -->
      <section class="bg-white rounded-2xl p-6 sm:p-8 shadow-lg border border-gray-200 no-print">
        <div class="flex items-center gap-3 mb-4">
          <i class="fas fa-sticky-note text-flcGold text-2xl"></i>
          <h2 class="text-2xl font-heading font-bold text-gray-900">Personal Notes</h2>
        </div>
        <p class="text-sm text-gray-600 mb-4"><strong>Note:</strong> Your notes, highlights, and reflections are saved locally on this device only. They are not synced or stored on any server.</p>
        <textarea 
          id="personal-notes"
          class="note-area w-full p-4 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-flcGold focus:border-transparent transition-all"
          placeholder="Start writing your thoughts here..."
          onchange="saveNotes()"
        ></textarea>
        <div class="flex items-center justify-between mt-3 text-xs text-gray-500">
          <span><i class="fas fa-save mr-1"></i>Auto-saved</span>
          <span id="note-count">0 characters</span>
        </div>
      </section>

      <!-- Action Steps Section -->
      <section class="bg-gradient-to-br from-flcGold/10 to-flcGoldLight/10 rounded-2xl p-6 sm:p-8 border-l-4 border-flcGold shadow-lg">
        <h2 class="text-2xl font-heading font-bold text-gray-900 mb-4">This Week's Focus</h2>
        <ul class="space-y-3">
          <li class="flex items-start gap-3">
            <span class="flex-shrink-0 w-6 h-6 bg-flcGold text-white rounded-full flex items-center justify-center text-sm font-bold mt-1">1</span>
            <span class="text-gray-800">Like the shepherds, share good news with someone weary or anxious</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="flex-shrink-0 w-6 h-6 bg-flcGold text-white rounded-full flex items-center justify-center text-sm font-bold mt-1">2</span>
            <span class="text-gray-800">Write a message or offer a conversation that brings encouragement</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="flex-shrink-0 w-6 h-6 bg-flcGold text-white rounded-full flex items-center justify-center text-sm font-bold mt-1">3</span>
            <span class="text-gray-800">Remind them that God has not forgotten them and joy has come</span>
          </li>
        </ul>
      </section>

      <!-- Christmas Blessing -->
      <section class="bg-gradient-to-br from-emerald-900 via-emerald-800 to-teal-900 text-white rounded-2xl p-10 sm:p-16 shadow-2xl text-center relative overflow-hidden border-2 border-amber-400/20">
        <!-- Decorative elements -->
        <div class="absolute top-0 left-0 w-full h-full opacity-5 pointer-events-none">
          <div class="absolute top-8 left-8 text-6xl">‚ú®</div>
          <div class="absolute top-12 right-12 text-6xl">‚≠ê</div>
          <div class="absolute bottom-12 left-16 text-6xl">‚ùÑÔ∏è</div>
          <div class="absolute bottom-8 right-20 text-6xl">‚ú®</div>
          <div class="absolute top-1/2 left-1/4 text-5xl">üéÑ</div>
          <div class="absolute top-1/3 right-1/4 text-5xl">üåü</div>
        </div>
        
        <!-- Subtle shine overlay -->
        <div class="absolute inset-0 bg-gradient-to-t from-transparent via-white/5 to-transparent pointer-events-none"></div>
        
        <div class="relative z-10">
          <div class="mb-8 inline-block">
            <svg class="w-24 h-24 sm:w-28 sm:h-28 mx-auto drop-shadow-2xl" viewBox="0 0 100 120" fill="none">
              <!-- Tree foliage layers -->
              <path d="M50 10 L30 35 L35 35 L20 55 L28 55 L15 75 L85 75 L72 55 L80 55 L65 35 L70 35 Z" fill="#10B981" stroke="#047857" stroke-width="1.5"/>
              <!-- Star on top -->
              <path d="M50 2 L52 8 L58 8 L53 12 L55 18 L50 14 L45 18 L47 12 L42 8 L48 8 Z" fill="#FCD34D" stroke="#F59E0B" stroke-width="0.8"/>
              <!-- Tree trunk -->
              <rect x="45" y="75" width="10" height="15" fill="#92400E" stroke="#78350F" stroke-width="1"/>
              <!-- Ornaments -->
              <circle cx="50" cy="50" r="3" fill="#EF4444"/>
              <circle cx="40" cy="60" r="3" fill="#3B82F6"/>
              <circle cx="60" cy="58" r="3" fill="#FCD34D"/>
              <circle cx="35" cy="68" r="2.5" fill="#A855F7"/>
              <circle cx="65" cy="65" r="2.5" fill="#F472B6"/>
            </svg>
          </div>
          
          <h2 class="text-4xl sm:text-5xl lg:text-6xl font-heading font-bold mb-10 text-amber-100 tracking-wide" style="text-shadow: 0 4px 12px rgba(0,0,0,0.4), 0 2px 4px rgba(0,0,0,0.3); letter-spacing: 0.02em;">
            Christmas Blessing
          </h2>
          
          <div class="max-w-3xl mx-auto space-y-6 text-xl sm:text-2xl leading-relaxed antialiased" style="font-variant-ligatures: common-ligatures;">
            <p class="italic text-slate-100 font-light" style="text-shadow: 0 2px 8px rgba(0,0,0,0.3);">
              May the <strong class="text-amber-300 font-semibold not-italic tracking-wide">Hope</strong> that was prophesied,
            </p>
            <p class="italic text-slate-100 font-light" style="text-shadow: 0 2px 8px rgba(0,0,0,0.3);">
              the <strong class="text-amber-300 font-semibold not-italic tracking-wide">Love</strong> that was given,
            </p>
            <p class="italic text-slate-100 font-light" style="text-shadow: 0 2px 8px rgba(0,0,0,0.3);">
              the <strong class="text-amber-300 font-semibold not-italic tracking-wide">Peace</strong> that was promised,
            </p>
            <p class="italic text-slate-100 font-light" style="text-shadow: 0 2px 8px rgba(0,0,0,0.3);">
              and the <strong class="text-amber-300 font-semibold not-italic tracking-wide">Joy</strong> that was proclaimed
            </p>
            <p class="text-2xl sm:text-3xl font-semibold mt-10 text-amber-50 leading-snug tracking-tight" style="text-shadow: 0 3px 10px rgba(0,0,0,0.4); font-weight: 600;">
              fill your heart this Christmas season<br class="hidden sm:block"><span class="sm:inline"> </span>and throughout the coming year.
            </p>
          </div>
          
          <div class="mt-12 pt-10 border-t-2 border-amber-400/30">
            <p class="text-xl sm:text-2xl font-medium text-amber-100 tracking-wide" style="text-shadow: 0 2px 6px rgba(0,0,0,0.3);">
              üéÅ Merry Christmas from FLC Publishing House! üéÅ
            </p>
          </div>
        </div>
      </section>

    </article>

    <!-- Navigation -->
    <nav class="mt-8 sm:mt-12 mb-12 no-print">
      <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-200">
        <div class="flex flex-col sm:flex-row gap-3 sm:gap-4">
          <a href="devotional-week3-peace.html" class="flex-1 bg-gray-600 hover:bg-gray-700 active:bg-gray-800 text-white px-4 sm:px-6 py-4 sm:py-3 rounded-xl font-semibold transition text-center touch-manipulation">
            <i class="fas fa-arrow-left mr-2"></i>Previous Week
          </a>
          <button onclick="markComplete('week4')" id="complete-btn" class="flex-1 bg-green-600 hover:bg-green-700 active:bg-green-800 text-white px-4 sm:px-6 py-4 sm:py-3 rounded-xl font-semibold transition touch-manipulation">
            <i class="fas fa-check-circle mr-2"></i>Mark Complete
          </button>
          <a href="../pages/devotionals.html" class="flex-1 bg-flcGold hover:bg-flcGoldLight active:bg-flcGoldLight/90 text-white px-4 sm:px-6 py-4 sm:py-3 rounded-xl font-semibold transition text-center touch-manipulation">
            All Weeks<i class="fas fa-th ml-2"></i>
          </a>
        </div>
      </div>
    </nav>

  </main>

  <!-- Footer -->
  <div id="footerContainer" data-config='{"logoPath": "../assets/images/White Logo.png", "homePath": "../index.html", "libraryPath": "../pages/library.html", "devotionalsPath": "../pages/devotionals.html", "resourcesPath": "../pages/resources.html", "latestSermonPath": "../sermons/sermon-im-under-pressure.html"}'></div>
  <script src="../assets/js/footer-component.js"></script>

  <!-- Scripts -->
  <script>
    // Toggle section functionality for mobile
    function toggleSection(section) {
      if (window.innerWidth >= 640) return;
      
      const content = document.getElementById(`${section}-content`);
      const icon = document.getElementById(`${section}-icon`);
      
      if (content.classList.contains('hidden')) {
        content.classList.remove('hidden');
        icon.querySelector('path').setAttribute('d', 'M5 12h14');
        icon.style.transform = 'rotate(0deg)';
      } else {
        content.classList.add('hidden');
        icon.querySelector('path').setAttribute('d', 'M12 4v16m8-8H4');
        icon.style.transform = 'rotate(0deg)';
      }
    }

    // Highlighting functionality
    function highlightSelection(color) {
      const selection = window.getSelection();
      if (!selection.rangeCount || selection.isCollapsed) return;
      
      const range = selection.getRangeAt(0);
      const span = document.createElement('span');
      span.className = `highlight-${color}`;
      
      try {
        range.surroundContents(span);
        selection.removeAllRanges();
        saveHighlights();
      } catch (e) {
        console.log('Could not highlight selection');
      }
    }

    function saveHighlights() {
      const scriptureHTML = document.getElementById('scripture-text').innerHTML;
      const reflectionHTML = document.getElementById('reflection-text').innerHTML;
      localStorage.setItem('week4-scripture-highlights', scriptureHTML);
      localStorage.setItem('week4-reflection-highlights', reflectionHTML);
    }

    function loadHighlights() {
      const scriptureHTML = localStorage.getItem('week4-scripture-highlights');
      const reflectionHTML = localStorage.getItem('week4-reflection-highlights');
      
      if (scriptureHTML) {
        document.getElementById('scripture-text').innerHTML = scriptureHTML;
      }
      if (reflectionHTML) {
        document.getElementById('reflection-text').innerHTML = reflectionHTML;
      }
    }

    function clearAllHighlights() {
      if (confirm('Clear all highlights?')) {
        localStorage.removeItem('week4-scripture-highlights');
        localStorage.removeItem('week4-reflection-highlights');
        location.reload();
      }
    }

    // Notes functionality
    function saveNotes() {
      const notes = document.getElementById('personal-notes').value;
      localStorage.setItem('week4-notes', notes);
      updateNoteCount();
    }

    function loadNotes() {
      const notes = localStorage.getItem('week4-notes');
      if (notes) {
        document.getElementById('personal-notes').value = notes;
        updateNoteCount();
      }
    }

    function updateNoteCount() {
      const count = document.getElementById('personal-notes').value.length;
      document.getElementById('note-count').textContent = `${count} characters`;
    }

    function clearAllNotes() {
      if (confirm('Clear all notes? This cannot be undone.')) {
        document.getElementById('personal-notes').value = '';
        localStorage.removeItem('week4-notes');
        updateNoteCount();
      }
    }

    // Audio player controls
    function toggleAudio(audioId) {
      const audio = document.getElementById(audioId);
      const btnId = audioId === 'scripture-audio' ? 'play-btn' : 'play-btn-reflection';
      const btn = document.getElementById(btnId);
      const icon = btn.querySelector('i');
      
      if (audio.paused) {
        audio.play();
        icon.classList.remove('fa-play');
        icon.classList.add('fa-pause');
      } else {
        audio.pause();
        icon.classList.remove('fa-pause');
        icon.classList.add('fa-play');
      }
    }

    function updateProgress() {
      const audio = document.getElementById('scripture-audio');
      const progress = (audio.currentTime / audio.duration) * 100;
      document.getElementById('progress-bar').style.width = progress + '%';
      
      const minutes = Math.floor(audio.currentTime / 60);
      const seconds = Math.floor(audio.currentTime % 60);
      document.getElementById('audio-time').textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
    }

    function updateProgressReflection() {
      const audio = document.getElementById('reflection-audio');
      const progress = (audio.currentTime / audio.duration) * 100;
      document.getElementById('progress-bar-reflection').style.width = progress + '%';
      
      const minutes = Math.floor(audio.currentTime / 60);
      const seconds = Math.floor(audio.currentTime % 60);
      document.getElementById('audio-time-reflection').textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
    }

    function audioEnded() {
      const btn = document.getElementById('play-btn');
      const icon = btn.querySelector('i');
      icon.classList.remove('fa-pause');
      icon.classList.add('fa-play');
      document.getElementById('progress-bar').style.width = '0%';
    }

    function audioEndedReflection() {
      const btn = document.getElementById('play-btn-reflection');
      const icon = btn.querySelector('i');
      icon.classList.remove('fa-pause');
      icon.classList.add('fa-play');
      document.getElementById('progress-bar-reflection').style.width = '0%';
    }

    function seekAudio(event, audioId) {
      const audio = document.getElementById(audioId);
      const progressBar = event.currentTarget;
      const clickX = event.offsetX;
      const width = progressBar.offsetWidth;
      const duration = audio.duration;
      
      audio.currentTime = (clickX / width) * duration;
    }

    // Mark as complete
    function markComplete(weekId) {
      const progress = JSON.parse(localStorage.getItem('devotionalProgress') || '{"completed":[],"lastRead":0}');
      const weekNum = 4;
      
      if (!progress.completed.includes(weekNum)) {
        progress.completed.push(weekNum);
        progress.lastRead = weekNum;
        localStorage.setItem('devotionalProgress', JSON.stringify(progress));
        
        const btn = document.getElementById('complete-btn');
        btn.innerHTML = '<i class="fas fa-check mr-2"></i>Completed';
        btn.classList.remove('bg-green-600', 'hover:bg-green-700');
        btn.classList.add('bg-green-800', 'cursor-not-allowed');
        btn.disabled = true;
        
        showNotification('Week 4 marked as complete! Merry Christmas!');
      }
    }

    function checkCompletion() {
      const progress = JSON.parse(localStorage.getItem('devotionalProgress') || '{"completed":[],"lastRead":0}');
      if (progress.completed.includes(4)) {
        const btn = document.getElementById('complete-btn');
        btn.innerHTML = '<i class="fas fa-check mr-2"></i>Completed';
        btn.classList.remove('bg-green-600', 'hover:bg-green-700');
        btn.classList.add('bg-green-800', 'cursor-not-allowed');
        btn.disabled = true;
      }
    }

    function showNotification(message) {
      const notification = document.createElement('div');
      notification.className = 'fixed bottom-8 right-8 bg-green-600 text-white px-6 py-4 rounded-lg shadow-xl z-50 animate-bounce';
      notification.innerHTML = `<i class="fas fa-check-circle mr-2"></i>${message}`;
      document.body.appendChild(notification);
      setTimeout(() => notification.remove(), 3000);
    }

    // Auto-save notes
    document.getElementById('personal-notes').addEventListener('input', () => {
      saveNotes();
    });

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      loadNotes();
      loadHighlights();
      checkCompletion();
      
      const progress = JSON.parse(localStorage.getItem('devotionalProgress') || '{"completed":[],"lastRead":0}');
      progress.lastRead = 4;
      localStorage.setItem('devotionalProgress', JSON.stringify(progress));
    });
  </script>

  <script src="../assets/js/page-transitions.js"></script>

</body>
</html>
